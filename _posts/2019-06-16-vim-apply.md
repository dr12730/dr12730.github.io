
title: VIM 之应用篇
date: 2019-06-16 17:07:00 +0800
description:
image:
    path: / assets/images/posts/2019-06-16-vim-apply/cover.jpg
    thumbnail: /assets/images/posts/2019-06-16-vim-apply/thumb.jpg
categories:
    - it
tags:
    - vim
---

这篇文章主要关注如何使用 vim 的插件以及如何配置 `.vimrc`

# 1. vimrc 的编写

vimrc 是 vim 的配置文件，再它打开之前，会先加载这个文件，根据 vimrc 决定编译器自身各类属性的设置以及各种功能的开启和关闭。现在我们来看看这个 vimrc 怎么编写。
首先，在 Linux 下 vimrc 的存放路径是 `~/.vimrc` 或者 `~/.vim/vimrc`，如果没有就自行创建一个

```python
mkdir ~/.vim      # 创建.vim 目录
vim ~/.vim/vimrc  # 打开空的 vimrc 文件
```


这样就通过 vim 打开了一个 vimrc 配置文件，下面是一个配置的部分示例：

```python

" 编辑器设置
set nocompatible    " 不兼容 vi
filetype on         " 打开文件类型识别
filetype indent on  " 根据文件类型设置缩进
filetype plugin on
filetype plugin indent on

set encoding=utf-8

" 设置 vim 的 leader 键为空格
let mapleader=" "
" 打开语法高亮
syntax on
set number
set relativenumber
set wrap
set wildmenu
set hlsearch
exec "nohlsearch"
set incsearch
set ignorecase

" 空格 + 回车，取消搜索高亮
noremap <LEADER><CR> :nohlsearch<CR>

.......
```

## 1.1 基本映射

映射就是为一些操作创建新的快捷方式，它的格式为：

```
map 新操作 旧操作
map jj <Esc> # 把 Esc 映射为 jj
```

- 用 nmap/vmap/imap 定义只在 normal/visual/insert 模式下有效的映射  
- `:vmap \ U` 在 visual 模式下把选中的文本进行大小写转换 (u/U 转换大小写)  
- `:imap <c-d> <esc>ddi` 在 insert 模式下删除一行

### 递归与非递归映射

递归映射的问题：

1. `map` 是递归映射，比如 `map - dd` 和 `map \ -`，使用 `\` 后会删除一行  
2. 多个插件间的映射会混乱

解决方法：  
使用非递归映射，`nnoremap/vnoremap/inoremap`，所以为了自己和插件作者，**我们在任何时候都应该使用非递归映射 `noremap`**

推荐一本书：[《笨方法学 VimScript》](https://www.kancloud.cn/kancloud/learn-vimscript-the-hard-way/49321)


# 2. NerdTree 使用
NerdTree 是一个树形的文件管理器，它可以让你用键盘或鼠标操作文件系统，它也可以执行文件系统的指令。


它的快捷键如下：

| 序号 | 快捷键 | 说明 |
| :---: | :---: | --- |
| 1 | o | 在已有窗口中打开文件、目录或书签，并跳到该窗口  |
| 2 | go| 在已有窗口 中打开文件、目录或书签，但不跳到该窗口  |
| 3 | t | 在新 Tab 中打开选中文件 / 书签，并跳到新 Tab  |
| 4 | T | 在新 Tab 中打开选中文件 / 书签，但不跳到新 Tab  |
| 5 | i   |    split 一个新窗口打开选中文件，并跳到该窗口 |
| 6 | gi  |    split 一个新窗口打开选中文件，但不跳到该窗口 |
| 7 | s   |    vsplit 一个新窗口打开选中文件，并跳到该窗口 |
| 8 | gs  |    vsplit 一个新 窗口打开选中文件，但不跳到该窗口 |
| 9 | !   |    执行当前文件 |
| 10 | O   |    递归打开选中 结点下的所有目录 |
| 11| x   |    合拢选中结点的父目录 |
| 12| X   |    递归 合拢选中结点下的所有目录 |
| 13| e   |    Edit the current dif |
| 14 | 双击|    相当于 NERDTree-o |
| 15 | 中键|    对文件相当于 NERDTree-i，对目录相当于 NERDTree-e |
| 16 | D   |    删除当前书签 |
| 17 | P   |    跳到根结点 |
| 18 | p   |    跳到父结点 |
| 19 | K   |    跳到当前目录下同级的第一个结点 |
| 20 | J   |    跳到当前目录下同级的最后一个结点 |
| 21 | k   |    跳到当前目录下同级的前一个结点 |
| 22 | j   |    跳到当前目录下同级的后一个结点 |
| 23 | C   |    将选中目录或选中文件的父目录设为根结点 |
| 24 | u   |    将当前根结点的父目录设为根目录，并变成合拢原根结点 |
| 25 | U   |    将当前根结点的父目录设为根目录，但保持展开原根结点 |
| 26 | r   |    递归刷新选中目录 |
| 27 | R   |    递归刷新根结点 |
| 28 | m   |    显示文件系统菜单 |
| 29 | cd  |    将 CWD 设为选中目录 |
| 30 | I   |    切换是否显示隐藏文件 |
| 31 | f   |    切换是否使用文件过滤器 |
| 32 | F   |    切换是否显示文件 |
| 33 | B   |    切换是否显示书签 |
| 34 | q   |    关闭 NerdTree 窗口 |
| 35 | ?   |    切换是否显示 Quick Help |


# 3. Airline 的使用

Airline 是 vim 的状态栏插件，它由几个部分组成，每个部分显示一些信息。默认情况下（无配置），如下所示：


![airline](/assets/images/posts/2019-06-16-vim-apply/airline.png)


```
+-----------------------------------------------------------------------------+
|~                                                                            |
|~                                                                            |
|~                     VIM - Vi IMproved                                      |
|~                                                                            |
|~                       version 8.0                                          |
|~                    by Bram Moolenaar et al.                                |
|~           Vim is open source and freely distributable                      |
|~                                                                            |
|~           type :h :q<Enter>          to exit                               |
|~           type :help<Enter> or <F1>  for on-line help                      |
|~           type :help version8<Enter> for version info                      |
|~                                                                            |
|~                                                                            |
+-----------------------------------------------------------------------------+
| A | B |                     C                            X | Y | Z |  [...] |
+-----------------------------------------------------------------------------+
```

其中含义如下：


|序号 | 部分 | 说明 |
|:---:|----|----|
| 1 | A | 显示模式 + 附加标志，如加密 / 拼写 / 粘贴（插入） |
| 2 | B | VCS 信息（分支，大块摘要） |
| 3 | C | 文件名 + 只读标志 (~/.vim/vimrc RO) |
| 4 | X | 文件类型 |
| 5 | Y | 文件编码『文件格式』 (utf-8[unix) |
| 6 | Z | 文件中的当前位置 |
| 7 | [...] | 自外部插件的附加部分（警告 / 错误 / 统计）（例如 YCM，syntastic，...）|

Z 段的信息 `10% ☰ 10/100 ln : 20` 含义如下：

```python
10% 	# 文件顶部向下 10%
☰ 10 	# 当前行：10
/100 LN	# 总共 100 行
:20	# 当前列：20
```

# 4. YouCompleteMe 插件
YCM 是一款广受赞誉的补全插件，但也出了名的难以安装。下面是安装的要求和步骤：

## 4.1 Python 版本

YCM 要求用来编译 YCM 的 python 版本是通过 `--enabled-shared` 编译安装的版本，所以在安装 YCM 之前，我们需要安装支持共享对象的 python。

1. 下载 python 源码
	以 python3.7 为例，下载源码包并解压，得到 Python-3.7 目录

2. 编译并安装
	```python
	# 进入 python 源码目录
	cd python3.7

	# 清除临时文件
	make distclean

	# 配置 python 版本，支持共享对象，安装目录为 /usr/local/
	./configure --enable-shared --prefix=/usr/local/

	# 编译
	make

	# 安装
	sudo make install
	```
3. 刷新动态连接库
	如果出现类似的问题，可以通过 `sudo ldconfig` 刷新动态连接库解决
	```python
/opt/python3/bin/python3.7：加载共享库时出错：libpython3.5m.so.1.0：无法打开共享对象文件：无此类文件或目录
	```

## 4.2 安装 vim

安装了支持共享对象的 python 版本后，下载 vim8.1 源码包，解压后用以下编译指令安装 vim

```python
./configure --with-features=huge --enable-multibyte --enable-python3interp=yes --with-python3-config-dir=/usr/local/lib/python3.8/config-3.8-x86_64-linux-gnu/ --enable-fontset --enable-cscope --enable-fail-if-missing --enable-gtk2-check --prefix=/usr/local
```

## 4.3 安装 YouCompleteMe

1. 在 vimrc 中加入 YCM 插件
2. 在 vim 中执行 `:PlugInstall`，下载 YCM
3. 进入 YCM 目录，一般在`~/.vim/plugged/YouCompleteMe`目录下
4. 执行 `python3.8 install.py --all` 安装 YCM

安装完成后，就可以自动补全了

详细的安装过程，可以参考这篇[文章](https://zhuanlan.zhihu.com/p/33767178)


插件可以在[vimawesome](https://vimawesome.com)网址中搜索

# 5 Vim 的最佳实践
## 5.1 快速纠错

| 命令 | 功能 |
|:---:|---|
|`ctrl + h`|删除上一个字符|
|`ctrl + w`|删除上一个单词|
|`ctrl + u`|删除当前行|

上面的命令在终端下也可能使用，另外在终端下:  
- `ctrl + a`(^a) 可以移动到首字母  
- `^e` 移到行尾  
- `^b` 前移一个字符   
- `^f` 后移一个字符  

## 5.2 快速切换 insert 和 normal 模式

1. 使用 `ctrl + c` (即`^c`) 代替 `Esc` （但可能会中断 某些插件）或者 `ctrl + [`
2. `gi` 快速跳转到最后一次编辑的地方
3. 在 `vimrc` 中用 `:map` 映射的方式代替 `Esc`

## 5.3 Vim 的快速移动

### 5.3.1 在单词间移动

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| w/W | 移到下个 word/WORD 开头 | e/E | 下一个 word/WORD 尾|
| b/B | 回到上个 word/WORD 开头 |

> word 指以非空白符分割的单词，WORD 以空白符分割的单词。比如 `self.name = name`，w 则跳到 `.` 处，而 W 则会跳转到 `=` 处

### 5.3.2 行间搜索移动
同一行快速移动最好是通过**搜索**字符的方式移动

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| f{char} | 向前移动到 char 上 | t{char} | 移动到 char 的前一个字符 |
| ; | 结过搜索该行下一个 | , | 继续搜索上一个 |
| F{char} | 向后移动到 char 上 | | |

### 5.3.3 Vim 的水平移动 

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| 0 | 移到行首 | `^` | 移动第1个非空白字符 |
| $ | 移到行尾 | `g_` | 移到行尾非空白字符 |
| **0w** | 移到行首（推荐） | | |


### 5.3.4 Vim 的垂直移动 

我们可以在句子 (sentence) 和段落 (paragraph) 间移动

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| () | 在句子间移动 | {} | 在段落间移动 |

**推荐**：用 `easy-motion` 插件 


### 5.4.4 Vim 的页面移动
 
| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| gg/G | 文件开头/结尾 | `ctrl + o` | 快速返回上一个标签 |
| H/M/L | 跑到屏幕开头/中间/结尾 | zz | 把光标置为中间 |

## 5.5 Vim 的增删改查

### 5.5.1 删除 

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| x | 删除字符 | daw/diw | 删除一个字符串对象 |
| dt( | 删除()内部的内容 | dt" | 删除引号内的内容 |
| d$ | 删除光标到行尾的内容 | d0 | 删除光标到开头内容 |

> - daw 删除带后面空格的单词  
> - diw 仅删除单词本身  
> - dt( delete to "(" 删除直到括号  
> - 还可以在 visual 模式下选中行，再使用 `d` 命令来删除


### 5.5.2 修改 

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| r/c/s | 替换单个字符/改变/替换后进入insert模式 | R | 进入替换字符串模式 |
| S | 删除整行跳到第1列进入编辑模式 | C | 删除整行跳转行首进入编辑模式 |
| ct" | 删除引号中的内容并进入编辑模式 |

### 5.5.3 查询 

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| `/` | 前向搜索 | `?` | 反向搜索 |
| n/N | 跳转到下/上一个 | `*/#` | 当前光标单词匹配 |

## 5.6 Vim 的搜索替换

`:[范围]s/{待替换的字符}/{替换后的字符}/[选项]`

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| :10,20 | 10 ~ 20 行 | % | 全部行 |
| g | 全局范围内执行 | c | 修改前确认 |
| n | 报告匹配次数，但不替换 |

**例子**：

`:% s/self/this/g` - 在全文本中将 `self` 替换成 `this`，如果不用 g，则替换一次后就会停止  
`:1,6 s/self/this/g` - 在 1~6 行文本中将 `self` 替换成 `this`，如果不用 g，则替换一次后就会停止  
`:1,6 s/self//n` - 在 1~6 行文本中统计 `self` 出现的次数，因为不需替换所以 this 部分为空  
`:% s/\<quack\>/jojo/g` - 只替换 `quack`，不替换 `a_quack` 中的 quack 字符，`\<` 表开头  

## 5.7 Vim 多文件操作

### 5.7.1 概念 

1. buffer  
	Buffer 是指打开的文件的内存缓冲区，Vim 打开文件后会将内容加载到缓冲区中，之后的修改都是针对内存中的缓冲区，并不会直接保存到文件。直到执行 `:w` 时才会把缓冲区中的内容写入文件
2. 窗口  
	窗口是 Buffer 的可视化的分割区域
3. Tab  
	Tab 可以组织多个窗口为一个工作区

![bw](/assets/images/posts/2019-06-16-vim-apply/bw.png)


### 5.7.2 命令

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| :ls | 显示当前缓冲区 | :b n | 跳转到第 n 个缓冲区 |
| :b pre/next/first/last | 跳转到对应缓冲区 | :b name | 跳转到 name 缓冲区 |
| :sp | 水平分割出一个窗口 | :vs | 垂直分割出一个窗口 |
| `<C-w>w/h/j/k` | 在窗口间切换 | `<C-w>W/H/J/K` | 移动窗口 |
| `<C-w>=` | 所有窗口等宽高 | | |
| :tab file | 在新标签页中打开 file | `<C-w>`T | 当前窗口移到新标签页 |
| :tabc | 关闭当前标签页 | :tabo[nly] | 仅保留当前标签页 |
| :tabn | 跳到下一标签页 | :tabp | 跳到上一标签页 |


## 5.8 Vim 的 text object

Vim 中文本也有对象的概念，如一个单词，一个句子，一个段落。以单个字符对单位编辑比较低效，通过文本对象操作高效很多。  

**文本对象操作方式:**

`[次数]<命令>[文本对象]`

- 命令：d(delete), c(change), y(yank)
- 文本对象：w(word), s(sentence), p(paragraph)
- iw：表示 inner word
- aw：表示 a word，不但选中单词，还会选中单词后的空格，可以记成 around word

![aiw](/assets/images/posts/2019-06-16-vim-apply/aiw.jpg)

## 5.9 Vim 复制粘贴与寄存器

### 5.9.1 从外部复制粘贴

在 vimrc 中设置了 `autoindent` 后，粘贴 python 代码缩进会错乱，原因是在终端的 vim 中没有相应的程序来处理这个从其他应用复制粘贴的过程，所以 Vim 通过插入键盘输入的buffer来模拟这个粘贴的过程，这个时候 vim 会以为这是用户输入的。

问题就是出在这：当上一行结束，光标进入下一行时 Vim 会自动以上一行的的缩进为初始位置。这样就会破坏原始文件的缩进这时可以使用 `:set paste` 解决这个问题。粘贴完成之后再用 `:set nopaste` 恢复自动缩进。


### 5.9.2 寄存器

1. vim 中操作的是寄存器而不是系统剪贴板，用 d 和 y 操作的内容都放到了“无名寄存器”中。  
2. 通过 `"{reg}` 可以指定寄存器，比如 `"ayiw` 复制一个单词到寄存器 `a` 中，`"bdd` 删除当前行并存到寄存器 `b` 中。  
3. 通过 `:reg {reg_name}` 可以查看 reg\_name 的内容  
4. 通过 `"ap` 可以粘贴寄存器 `a` 的内容  

#### 其他常见寄存器

1. `"0` 是复制专用寄存器，使用 `y` 复制的文本会被拷贝到无名寄存器 `""` 和寄存器 0 中  
2. `"+` 是系统剪贴板，可以在复制前加上 `"+` 把内容复制到系统剪贴板中  
3. `"%` 当前文件名寄存器
4. `".` 上次插入的文本

**例子**：
拷贝内容到系统剪贴板：

1. `:echo has(‘clipborad')` 查看 vim 是否支持系统剪贴板
2. 通过 V 选择两行
3. 通过 `"+y` 把文本拷贝至系统剪贴板
4. 通过 `"+p` 把文本从系统剪贴板拷贝到 vim 中

另一种方式：
1. `:set clipboard=unnamed` 把无名寄存器与系统剪贴板连通
2. 通过 `y` 和 `p` 复制粘贴

## 5.10 宏

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| `q` | 录制宏 | 再`q` | 结束录制 |
| `q{reg}` | 选择保存的寄存器 | `@{reg}` | 使用对应寄存器宏 |


- 宏是一系列的操作集合。vim 的宏使用 `q` 录制，同时也是用 `q` 结束录制。    
- 可以使用 `q{reg}` 来选择保存的寄存器  
- 使用 `@{reg}` 回放宏。回放可以先用 V 选择要回放的行，然后输入 `:`，之后再输入一些命令，看起来是这样：`:'<,'>normal @a`

###  vim 中利用宏来实现插入一列递增或递减序号

1. 进入 VIM，读取文件内容。
2. 在需要加入行号的首行开头输入起始行号（序号）并加入一个空格与后文隔开（空格用于后面的单词复制分隔，如要不希望加入空格也可以用其它方式来框选序号，偶就不一一列举了）。
3. 将光标置于行首（其实就是序号上），按下 q（命令模式下），开始录制操作啦～；再按下 t（偶将宏存到 t 中，大家也可以使用其它字符命名宏，注意是单个字符）
4. 在命令模式下按下 yw，将行序号当作单词复制下来。
5. 按 j 到下一行，现在光标应该正对应到插入位置，按下 P（最好是大写，表明在当前字符前粘贴），将上行序号粘贴到这个位置。
6. 按下 ^（无视空格用 0［零，非欧］），光标回到行首（其实就是回到行序号上，还有其它方法可以实现），按下 **Ctrl-a**，序号会加 1（ **Ctrl-x** 表示减 1，大家明白加 2 减 2……如何处理了吧），然后再次按下 ^，保证光标在行序号开始位置。
7. 按下 q 结束录制。
8. 在光标位于行序号首的情况下，想插入 10 个连续的行号就输入 10@t，10 代表执行次数，@表示执行宏，t 是偶刚才给宏的命名，大家按自己命名使用。

并且，默认情况下这个宏定义不会被清除，只要以后不重新在 t 上定义其它宏，再次重启 VIM 时也可以使用，再次使用时就不用录制了，直接使用就可以了 ^_^。


## 5.11 vim 的补全

| 命令 | 功能 | 命令 | 功能 |
|:---:|---|:---:|---|
| ctrl + n/p | 补全单词 | ctrl + x, ctrl + f | 补全文件名 |
| `:r! echo %` | 插入当前文件名 | `:r! echo %:p` | 插入全路径 |

比如输入 `./` 后再按 `ctrl + x` 和 `ctrl + f` 就可以补全文件名

## 5.12 更改配色

用 `:colorscheme <ctrl+d>` 可以显示所有配色，用`:colorscheme 名` 修改配色

可以此[网站](https://github.com/flazz/vim-colorschemes)中安装主题管理器，之后就有大量主题可更换了  
推荐使用 [hybrid](https://github.com/w0ng/vim-hybrid)


# 6. vim 美化插件
 
| 插件 | 地址 |
|---|---|
| 启动界面 | mhinz/vim-startify |
| 状态栏 | vim-airline/vim-airline |
| 缩进线 | yggdroot/indentline |

# 文件目录和搜索


| 插件 | 地址 |
|---|---|
| NerdTree | scrooloose/nerdtree |
| CtrlP | ctrlpvim/ctrlp.vim |
| easymotion | easymotion/vim-easymotion |


## NerdTree 的操作

```python
" 打开 NerdTree
noremap tt :NERDTreeToggle<CR>

" 在 NerdTree 中定位文件
noremap <leader>v :NERDTreeFind<cr>
```

## ctrlp 模糊搜索器

ctrlp 可以搜索工作目录下的所有文件

## easymotion 跳转插件

easymotion 有点类似于 chrome 的 vim 插件，它可以在要搜索的文本上方显示跳转指令符，这里我们使用的是 `ss` 搜索 2 个字符的跳转，在 normal 模式中输入 `ss` 再输入要搜索的两个字母后，就可以出现搜索跳转指令符，非常好用。

# 成对编辑 vim-surround
成对更换一对单引号和双引号，`tpope/vim-surround` 可以满足要求

| 指令 | 说明 |
|---|---|
| ds | delete a surrounding，删除 |
| cs | change a surrounding, 修改 |
| ys | you add a surrounding，增加 |

- 给 `name` 增加 `"` 的方式是： `ysiw"`   
- 把 "name" 的 " 改成 '： cs"'  
- 把 `print("you name is")` 的 `(` 改成 `[` ： `cs([` 带空格的 `[]`，`cs(]` 不带空格的 `[]`  
- 删除 `print("you name is")` 中的 `"` 和 `()`： `ds(`，`ds"`

# 强大的 vim 模糊搜索 fzf.vim
vim 的 `/` 只能搜索当前文件，这里使用的是 `fzf.vim` 插件。`fzf` 是强大的命令行搜索工具，`fzf.vim` 把它集成到了 `vim` 里。它的主页在[这里](https://github.com/junegunn/fzf.vim
)。

## 安装与配置

```
Plug 'junegunn/fzf', { 'dir': '~/.fzf', 'do': './install --all' }
Plug 'junegunn/fzf.vim'
```
在 `~/.vim/vimrc` 中写入这些安装包，然后执行 `source ~/.vim/vimrc` 再执行 `PlugInstall` 就可以安装 `fzf.vim` 插件

### 小技巧

安装好 `fzf.vim` 后，`fzf` 也被安装了，我们可以通过 `vim $(fzf)` 来选择打开的文件，可以通过 `cd $(find * -type d | fzf)` 来选择要进入的目录，而且 `fzf` 默认使用 `**` 来不全 shell 命令


安装好 `fzf.vim` 后，配置如下：

```
export FZF_DEFAULT_COMMAND="fd --exclude={.git,.idea,.vscode,.sass-cache,node_modules,build} --type f"
```
> 注意，这里使用了 `fd` 命令来搜索文件，而不是 Linux 自带的 `find` 命令。`fd` 的安装看[这里](https://github.com/sharkdp/fd)


其次，是 `fzf` 搜索的展示界面，配置如下：

```
export FZF_DEFAULT_OPTS="--height 40% --layout=reverse --preview '(highlight -O ansi {} || cat {}) 2> /dev/null | head -500'"
```

> 这里使用了命令行语法高亮的程序 `highlight`，网址在[这里](http://www.andre-simon.de/doku/highlight/en/highlight.php)


| 指令 | 说明 |
|---|---|
| Ag [pattern] | 模糊搜索字符串 |
| Files [Path] | 模糊搜索目录 `Files ./<tab>`  |


# 多文本替换工具 far.vim

`far.vim` 是一个在多文件内搜索和替换文本的工具，它的地址是： `brooth/far.vim`。多文件的替换常用于代码重构。

使用方法很简单：

```
:Far foo bar **/*.py # 在当前py文件中搜索 foo，并替换在 bar
:Fardo               # 开始替换
```

# python 的补全插件 python-mode

python-mode 具备基本的补全、跳转、重构和格式化功能，据说是 Python 的最佳辅助型插件，地址：`python-mode/python-mode`


| 指令 | 说明 |
|---|---|
| `<c-x> <c-o>` | 代码补全 |
| `<c-]>` | 跳转到定义 |
| `<c-c>ro` | 整理 `import` 格式 |
| `:PymodeLintAuto` | 使用 Auto PEP 8 整理格式 |


# 浏览代码工具 vim-tagbar

`vim-tagbar` 是一个通用的代码大纲插件，提供了一种简单的方法来浏览当前文件的标签并获得其结构的概述。 它通过创建一个侧边栏来显示当前文件的ctags生成的标签，按其范围排序，地址是：`majutsushi/tagbar`

它依赖 `ctags`，我们可以去 `ctags` 的 `github` [主页](https://github.com/universal-ctags/ctags) 下载文件，然后自己编译安装


| 指令 | 说明 |
|---|---|
| `TagbarToggle`  | 打开代码大纲 |


# 高亮单词 vim-interestingwords

地址：`lfv89/vim-interestingwords`


| 指令 | 说明 |
|---|---|
| `<leader>k` | 高亮单词 |
| n/N | 跳转到下一个 |
| `<leader>k` | 取消高亮 |

# 强大的通用代码补全 coc.vim

Coc是vim8和neovim的智能感知引擎，是一个支持VSCode扩展特性的完成框架和语言服务器客户端。

它需要 `node.js` 的支持，所以先要安装 `node.js`

```
curl -sL install-node.now.sh/lts | bash
```

# 格式化和静态检查

静态检查可以让编写的代码更加规范，格式化插件是 `sbdchd/neoformat`，需要安装对应语言的格式化库，如 python 的 autopep8，js 的 prettier 等


| 指令 | 说明 |
|---|---|
| `:Neoformat` | 格式化命令 |

# 静态检查 ALE

ale 需要 `pylint` 的支持，在安装前先要安装 `pylint`，地址：`w0rp/ale`

# 快速注释代码 vim-commentary


地址：`tpope/vim-commentary`

| 指令 | 说明 |
|---|---|
| `gc` | visual 模式下代码注释/取消注释 |
| `gcc` | 单行代码注释 |
| `gcgc` | 单行代码取消注释 |
| `gcap` | 注释一个段落 |

# Git 包装器 Fugitive

地址：`tpope/vim-fugitive`


| 指令 | 说明 |
|---|---|
| Gcommit | 提交 |
| Gblame | 查看提交者 |

# git 显示文件改动 vim-gitgutter

地址：`airblade/vim-gitgutter`


# git 查看提交记录 gv.vim

地址：`junegunn/gv.vim`


| 指令 | 说明 |
|---|---|
| `:GV` | 显示提交记录 |

# 输入法切换插件

地址：`vim-scripts/fcitx.vim.git`
